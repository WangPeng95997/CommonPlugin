protected override void ProcessDamage(ReferenceHub ply)
{
	if (this.CheckSpawnProtection(this.Attacker.Hub, ply))
	{
		this.Damage = 0f;
		return;
	}
	if (ply.networkIdentity.netId == this.Attacker.NetId || this.ForceFullFriendlyFire)
	{
		if (!this.AllowSelfDamage && !this.ForceFullFriendlyFire)
		{
			this.Damage = 0f;
			return;
		}
		this.IsSuicide = true;
	}
	else if (!HitboxIdentity.CheckFriendlyFire(this.Attacker.Hub, ply, false))
	{
		this.IsFriendlyFire = true;
	}
	base.ProcessDamage(ply);
}